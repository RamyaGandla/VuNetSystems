{"ast":null,"code":"var _jsxFileName = \"/home/ramya/PersonalProjects/VuNetSystems/src/Movies/ManageMovies.js\";\nimport React, { Component } from 'react';\nimport * as reactbootstrap from 'react-bootstrap';\nimport AddMovie from './AddMovie'; // import { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport Modal from 'react-awesome-modal';\n\nclass ManageMovies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      moviesList: localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {},\n      showAddMovie: false,\n      sortType: '1'\n    };\n    this.handleView = this.handleView.bind(this);\n    this.handleHide = this.handleHide.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.sortByPriceAsc = this.sortByPriceAsc.bind(this);\n    this.sortByPriceDesc = this.sortByPriceDesc.bind(this);\n  }\n\n  componentDidMount() {\n    this.sortByPriceAsc(this.state.sortType);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let movies = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {};\n\n    if (parseInt(localStorage.getItem('newMovie')) === 1) {\n      this.setState({\n        moviesList: movies\n      }, localStorage.setItem('newMovie', 0));\n    }\n  }\n\n  handleView(id) {\n    window.location.href = '/moviedetails/' + id;\n  }\n\n  handleHide() {\n    this.setState({\n      showAddMovie: false\n    });\n  }\n\n  handleSubmit(e) {\n    this.setState({\n      showAddMovie: false\n    });\n  }\n\n  sortByPriceAsc(sortType) {\n    let ascendingData = Object.values(this.state.moviesList).sort((a, b) => a.duration - b.duration);\n    this.setState({\n      moviesList: ascendingData,\n      sortType: sortType\n    });\n  }\n\n  sortByPriceDesc(sortType) {\n    let descendingData = Object.values(this.state.moviesList).sort((a, b) => b.duration - a.duration);\n    this.setState({\n      moviesList: descendingData,\n      sortType: sortType\n    });\n  }\n\n  handleChange(e) {\n    if (parseInt(e.target.value) === 1) {\n      this.sortByPriceAsc(e.target.value);\n    } else {\n      this.sortByPriceDesc(e.target.value);\n    }\n  }\n\n  searchData(e) {\n    let list = [];\n    let res = '';\n    let allMovies = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {};\n    list = Object.values(allMovies).filter(function (item) {\n      res = item.name.toLowerCase().search(e.target.value.toLowerCase()) !== -1;\n      return res;\n    });\n    this.setState({\n      moviesList: list\n    });\n  }\n\n  render() {\n    const {\n      moviesList,\n      sortType\n    } = this.state;\n    const createTemplateContent = /*#__PURE__*/React.createElement(Modal, {\n      visible: this.state.showAddMovie,\n      style: {\n        width: \"400\",\n        height: \"300\"\n      },\n      effect: \"fadeInUp\",\n      onClickAway: () => this.handleHide(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AddMovie, {\n      handleSubmit: this.handleSubmit,\n      uniqueId: Math.floor(Math.random() * 10 + 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    })));\n    return /*#__PURE__*/React.createElement(reactbootstrap.Container, {\n      className: \"pt-5 px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: '#EC661C',\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.Button, {\n      style: {\n        marginRight: \"180px\",\n        float: 'right',\n        backgroundColor: '#EC661C',\n        borderColor: \"black\",\n        marginBottom: '25px',\n        marginTop: '25px'\n      },\n      type: \"button\",\n      onClick: e => this.setState({\n        showAddMovie: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, 'Add movie')), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"220px\",\n        color: '#EC661C',\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, \"Manage movies\"))), /*#__PURE__*/React.createElement(reactbootstrap.Form, {\n      style: {\n        marginLeft: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        marginTop: \"-24px\",\n        marginRight: \"20px\",\n        marginBottom: \"15px\",\n        borderColor: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"#EC661C\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, \"Sort  \"), /*#__PURE__*/React.createElement(reactbootstrap.FormControl, {\n      as: \"select\",\n      name: \"type\",\n      className: \"input_sw\",\n      value: sortType,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"ASC\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"DSC\")))), /*#__PURE__*/React.createElement(reactbootstrap.Table, {\n      style: {\n        border: '4px solid lightgray',\n        'width': '80%',\n        'marginLeft': '60px',\n        'marginRight': '60px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        borderRadius: \"5px\",\n        borderColor: \"#EC661C\",\n        height: '20px',\n        width: \"274%\"\n      },\n      placeholder: \"What are you looking for ?\",\n      autoFocus: true,\n      onChange: e => this.searchData(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 211\n      }\n    }), /*#__PURE__*/React.createElement(\"thead\", {\n      style: {\n        backgroundColor: '#EC661C',\n        color: 'white',\n        position: 'sticky',\n        top: '0',\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        textAlign: 'center',\n        border: '2px solid black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, 'Movie name'), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, 'Released year'), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, 'Rating'), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, 'Duration'), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, 'View'))), /*#__PURE__*/React.createElement(\"tbody\", {\n      style: {\n        backgroundColor: 'gray',\n        color: 'white',\n        position: 'sticky',\n        top: '0',\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, Object.keys(moviesList).length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, Object.values(moviesList).map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        textAlign: 'center',\n        border: '2px solid black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 26\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 26\n      }\n    }, new Date(item.year).getFullYear()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 26\n      }\n    }, item.rating), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 26\n      }\n    }, item.duration + \" Hours\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.Button, {\n      style: {\n        backgroundColor: '#EC661C',\n        borderColor: \"black\",\n        marginBottom: '25px',\n        marginTop: '25px',\n        width: '80px'\n      },\n      type: \"button\",\n      onClick: e => this.handleView(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 28\n      }\n    }, 'View'))))), createTemplateContent))));\n  }\n\n}\n\nexport default ManageMovies;","map":{"version":3,"sources":["/home/ramya/PersonalProjects/VuNetSystems/src/Movies/ManageMovies.js"],"names":["React","Component","reactbootstrap","AddMovie","Modal","ManageMovies","constructor","props","state","moviesList","localStorage","getItem","JSON","parse","showAddMovie","sortType","handleView","bind","handleHide","handleSubmit","handleChange","sortByPriceAsc","sortByPriceDesc","componentDidMount","componentDidUpdate","prevProps","prevState","movies","parseInt","setState","setItem","id","window","location","href","e","ascendingData","Object","values","sort","a","b","duration","descendingData","target","value","searchData","list","res","allMovies","filter","item","name","toLowerCase","search","render","createTemplateContent","width","height","Math","floor","random","color","fontSize","marginRight","float","backgroundColor","borderColor","marginBottom","marginTop","marginLeft","border","borderRadius","position","top","textAlign","keys","length","map","Date","year","getFullYear","rating"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as reactbootstrap from 'react-bootstrap';\nimport AddMovie from './AddMovie';\n// import { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport Modal from 'react-awesome-modal'\n\nclass ManageMovies extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      moviesList: localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {} ,\n      showAddMovie: false,\n      sortType: '1',\n    }\n\n    this.handleView = this.handleView.bind(this)\n    this.handleHide = this.handleHide.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.sortByPriceAsc = this.sortByPriceAsc.bind(this)\n    this.sortByPriceDesc = this.sortByPriceDesc.bind(this)\n  }\n\n  componentDidMount() {\n    this.sortByPriceAsc(this.state.sortType)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let movies = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {};\n    if (parseInt(localStorage.getItem('newMovie')) === 1) {\n      this.setState({\n        moviesList: movies,\n      },(localStorage.setItem('newMovie', 0)))\n    }\n  }\n\n  handleView(id) {\n    window.location.href = '/moviedetails/' + id;\n  }\n\n  handleHide() {\n    this.setState({\n      showAddMovie: false,\n    })\n  }\n\n  handleSubmit(e) {\n    this.setState({\n      showAddMovie: false,\n    })\n  }\n\n  sortByPriceAsc(sortType) {\n    let ascendingData = Object.values(this.state.moviesList).sort((a, b) => (a.duration - b.duration))\n    this.setState({\n      moviesList: ascendingData,\n      sortType: sortType,\n    });\n  }\n\n  sortByPriceDesc(sortType) {\n    let descendingData =  Object.values(this.state.moviesList).sort((a, b) => (b.duration - a.duration))\n    this.setState({\n      moviesList: descendingData,\n      sortType: sortType,\n    });\n  }\n\n  handleChange(e) {\n    if (parseInt(e.target.value) === 1) {\n      this.sortByPriceAsc(e.target.value)\n    } else {\n      this.sortByPriceDesc(e.target.value)\n    }\n  }\n\n  searchData(e) {\n    let list = []\n    let res = ''\n    let allMovies =  localStorage.getItem('movies') ?  JSON.parse(localStorage.getItem('movies')): {}\n    list = Object.values(allMovies).filter(function (item) {\n      res = item.name.toLowerCase().search(e.target.value.toLowerCase()) !== -1;\n      return res;\n    });\n    this.setState({\n      moviesList: list,\n    })\n  }\n\n  render() {\n    const { moviesList, sortType } = this.state;\n\n    const createTemplateContent = (\n      <Modal visible={this.state.showAddMovie} style={{width:\"400\", height:\"300\"}} effect=\"fadeInUp\" onClickAway={() => this.handleHide()}>\n          <div>\n              <AddMovie handleSubmit={this.handleSubmit} uniqueId={Math.floor((Math.random() * 10) + 1)}/>\n          </div>\n      </Modal>\n    )\n\n    return(\n      <reactbootstrap.Container className=\"pt-5 px-0\">\n        <div style={{ color: '#EC661C', fontSize: '20px'}} >\n          <reactbootstrap.Button style={{ marginRight: \"180px\", float: 'right',backgroundColor: '#EC661C',borderColor: \"black\", marginBottom: '25px', marginTop: '25px' }} type=\"button\" onClick={(e) => this.setState({showAddMovie: true})}>\n              {'Add movie'}\n          </reactbootstrap.Button>\n        </div>\n        <div style={{ marginLeft: \"220px\", color: '#EC661C', fontSize: '20px'}} >\n            <span><h4>{\"Manage movies\"}</h4></span>\n        </div>\n        <reactbootstrap.Form style={{ marginLeft: \"100px\" }}>\n          <reactbootstrap.FormGroup>\n            <div style={{ float: 'right', marginTop: \"-24px\", marginRight: \"20px\", marginBottom: \"15px\", borderColor: \"black\" }}>\n              <label style={{ color: \"#EC661C\", fontSize: \"14px\" }}>\n                {\"Sort  \"}\n              </label>\n              <reactbootstrap.FormControl\n                as=\"select\"\n                name=\"type\"\n                className=\"input_sw\"\n                value={sortType}\n                onChange={this.handleChange}\n              >\n                <option value={\"1\"}>{\"ASC\"}</option>\n                <option value={\"2\"}>{\"DSC\"}</option>\n              </reactbootstrap.FormControl>\n            </div>\n          </reactbootstrap.FormGroup>\n          <reactbootstrap.Table style={{border: '4px solid lightgray', 'width' : '80%', 'marginLeft': '60px', 'marginRight': '60px' }}>\n            <input type=\"text\" style={{ borderRadius: \"5px\", borderColor: \"#EC661C\", height: '20px', width: \"274%\" }} placeholder={\"What are you looking for ?\"} autoFocus onChange={(e) => this.searchData(e)} /><br />\n            <thead style={{ backgroundColor: '#EC661C', color: 'white', position: 'sticky', top: '0', textAlign: 'center' }}>\n                <tr style={{ textAlign: 'center', border: '2px solid black' }}>\n                  <th>{'Movie name'}</th>\n                  <th>{'Released year'}</th>\n                  <th>{'Rating'}</th>\n                  <th>{'Duration'}</th>\n                  <th>{'View'}</th>\n                </tr>\n              </thead>\n              <tbody style={{ backgroundColor: 'gray', color: 'white', position: 'sticky', top: '0', textAlign: 'center' }}>\n                {Object.keys(moviesList).length > 0 &&\n                  <>\n                    {Object.values(moviesList).map((item) => (\n                      <tr style={{ textAlign: 'center', border: '2px solid black' }}>\n                         <td>{item.name}</td>\n                         <td>{(new Date(item.year)).getFullYear()}</td>\n                         <td>{item.rating}</td>\n                         <td>{item.duration + \" Hours\"}</td>\n                         <td>\n                           <reactbootstrap.Button style={{ backgroundColor: '#EC661C',borderColor: \"black\", marginBottom: '25px', marginTop: '25px', width: '80px' }} type=\"button\" onClick={(e) => this.handleView(item.id)}>\n                                 {'View'}\n                           </reactbootstrap.Button>\n                         </td>\n                      </tr>\n                    ))}\n                  </>\n                }\n                {createTemplateContent}\n              </tbody>\n          </reactbootstrap.Table>\n        </reactbootstrap.Form>\n      </reactbootstrap.Container>\n    )\n  }\n\n}\n\nexport default ManageMovies\n"]},"metadata":{},"sourceType":"module"}