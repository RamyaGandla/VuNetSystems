{"ast":null,"code":"var _jsxFileName = \"/home/ramya/PersonalProjects/VuNetSystems/src/Movies/AddMovie.js\";\nimport React, { Component } from \"react\";\nimport * as reactbootstrap from \"react-bootstrap\";\nimport DateTimePicker from \"react-datetime-picker\";\n\nclass CreateTask extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      year: null,\n      rating: '',\n      duration: '',\n      image: '',\n      submit: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.handleDuration = this.handleDuration.bind(this);\n  }\n\n  componentDidMount() {//   let moviesList = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {}\n    //   let currentMovie = Object.values(moviesList).filter(movie => movie.id == this.props.movieId)\n    //   if (Object.keys(currentMovie).length > 0) {\n    //     let editMovie = currentMovie[0]\n    //     this.setState({\n    //       name: editMovie.name,\n    //       year: editMovie.year,\n    //       rating: editMovie.rating,\n    //       duration: editMovie.duration,\n    //       image: editMovie.image,\n    //     });\n    //   }\n    // this.setState({\n    //   submit: false\n    // });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.uniqueId !== this.props.uniqueId) {\n      this.setState({\n        name: '',\n        year: null,\n        rating: '',\n        duration: '',\n        image: '',\n        submit: false\n      });\n    }\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value,\n      submit: false\n    });\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      year: date\n    });\n  }\n\n  addMovie(e) {\n    this.setState({\n      submit: true\n    });\n    const {\n      name,\n      year,\n      rating,\n      duration\n    } = this.state;\n\n    if (name !== '' && year !== '' && rating !== '' && duration !== '') {\n      let moviesList = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {};\n      let newMovie = {\n        \"id\": Object.keys(moviesList).length + 1,\n        'name': this.state.name,\n        \"year\": this.state.year,\n        \"rating\": this.state.rating,\n        \"duration\": this.state.duration,\n        \"image\": this.state.image,\n        \"index\": Object.keys(moviesList).length + 1\n      };\n      moviesList[Object.keys(moviesList).length + 1] = newMovie;\n      localStorage.setItem('movies', JSON.stringify(moviesList));\n      localStorage.setItem('newMovie', 1);\n      this.props.handleSubmit(e);\n    }\n  }\n\n  handleDuration(e) {\n    const re = /^[0-9\\b]+$/;\n\n    if (e.target.value === '' || re.test(e.target.value)) {\n      this.setState({\n        duration: e.target.value\n      });\n    }\n  }\n\n  render() {\n    const {\n      name,\n      year,\n      rating,\n      duration,\n      image,\n      submit\n    } = this.state;\n    return /*#__PURE__*/React.createElement(reactbootstrap.Container, {\n      className: \"pt-5 px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"#EC661C\",\n        fontSize: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, \"Add movie\"))), /*#__PURE__*/React.createElement(reactbootstrap.Form, {\n      style: {\n        textAlign: 'left',\n        width: \"600px\",\n        height: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginbottom: \"15px\",\n        border: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginLeft: \"30px\",\n        color: \"#EC661C\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, \"Movie name\", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 103\n      }\n    }, \" * \")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      value: name,\n      type: \"text\",\n      style: {\n        marginLeft: \"36px\",\n        marginBottom: \"10px\"\n      },\n      placeholder: \"Movie name\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    })), submit && name === \"\" && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\",\n        fontSize: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Movie name field is required\")), /*#__PURE__*/React.createElement(reactbootstrap.FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginbottom: \"15px\",\n        border: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginRight: \"32px\",\n        marginLeft: \"30px\",\n        color: \"#EC661C\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, \"Relesed year\", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 126\n      }\n    }, \" * \")), /*#__PURE__*/React.createElement(DateTimePicker, {\n      onChange: e => this.handleDateChange(e),\n      format: \"yyyy\",\n      value: year,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    })), submit && year === null && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\",\n        fontSize: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 15\n      }\n    }, \"Released year field is required\")), /*#__PURE__*/React.createElement(reactbootstrap.FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginbottom: \"15px\",\n        border: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginLeft: \"30px\",\n        color: \"#EC661C\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, \"Rating\", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 99\n      }\n    }, \" * \")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"rating\",\n      value: rating,\n      type: \"textarea\",\n      style: {\n        marginTop: \"10px\",\n        marginLeft: \"72px\",\n        marginBottom: \"10px\"\n      },\n      placeholder: \"Rating\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    })), submit && rating === \"\" && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\",\n        fontSize: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, \"Rating field is required\")), /*#__PURE__*/React.createElement(reactbootstrap.FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginbottom: \"15px\",\n        border: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginLeft: \"30px\",\n        color: \"#EC661C\",\n        fontSize: \"14px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, \"Duration in hours\", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 110\n      }\n    }, \" * \")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"duration\",\n      value: duration,\n      type: \"text\",\n      pattern: \"[0-9]*\",\n      style: {\n        marginLeft: \"3px\",\n        marginBottom: \"10px\"\n      },\n      placeholder: \"Duration\",\n      onChange: this.handleDuration,\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 15\n      }\n    })), submit && duration === \"\" && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\",\n        fontSize: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, \"Duration field is required\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.Button, {\n      style: {\n        float: \"left\",\n        backgroundColor: \"#EC661C\",\n        borderColor: \"black\",\n        marginLeft: \"20px\",\n        marginTop: \"30px\",\n        width: \"80px\"\n      },\n      type: \"button\",\n      onClick: e => this.props.handleSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(reactbootstrap.Button, {\n      style: {\n        float: \"right\",\n        backgroundColor: \"#EC661C\",\n        borderColor: \"black\",\n        marginRight: \"20px\",\n        marginTop: \"30px\",\n        width: \"80px\"\n      },\n      type: \"button\",\n      onClick: e => this.addMovie(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, \"Add\"))));\n  }\n\n}\n\nexport default CreateTask;","map":{"version":3,"sources":["/home/ramya/PersonalProjects/VuNetSystems/src/Movies/AddMovie.js"],"names":["React","Component","reactbootstrap","DateTimePicker","CreateTask","constructor","props","state","name","year","rating","duration","image","submit","handleChange","bind","handleDateChange","handleDuration","componentDidMount","componentDidUpdate","prevProps","prevState","uniqueId","setState","e","value","target","date","addMovie","moviesList","localStorage","getItem","JSON","parse","newMovie","Object","keys","length","setItem","stringify","handleSubmit","re","test","render","color","fontSize","textAlign","width","height","marginbottom","border","marginLeft","marginBottom","marginRight","marginTop","float","backgroundColor","borderColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as reactbootstrap from \"react-bootstrap\";\nimport DateTimePicker from \"react-datetime-picker\";\n\nclass CreateTask extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      year: null,\n      rating: '',\n      duration: '',\n      image: '',\n      submit: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.handleDuration = this.handleDuration.bind(this);\n  }\n\n  componentDidMount() {\n  //   let moviesList = localStorage.getItem('movies') ? JSON.parse(localStorage.getItem('movies')) : {}\n  //   let currentMovie = Object.values(moviesList).filter(movie => movie.id == this.props.movieId)\n  //   if (Object.keys(currentMovie).length > 0) {\n  //     let editMovie = currentMovie[0]\n  //     this.setState({\n  //       name: editMovie.name,\n  //       year: editMovie.year,\n  //       rating: editMovie.rating,\n  //       duration: editMovie.duration,\n  //       image: editMovie.image,\n  //     });\n  //   }\n    // this.setState({\n    //   submit: false\n    // });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.uniqueId !== this.props.uniqueId) {\n      this.setState({\n        name: '',\n        year: null,\n        rating: '',\n        duration: '',\n        image: '',\n        submit: false,\n      });\n    }\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n      submit: false\n    });\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      year: date\n    });\n  }\n\n  addMovie(e) {\n    this.setState({\n      submit: true\n    });\n    const {name, year,rating, duration} = this.state\n    if (name !== '' && year !== '' && rating !== '' && duration !== '') {\n      let moviesList = localStorage.getItem('movies') ?  JSON.parse(localStorage.getItem('movies')): {}\n      let newMovie = {\n        \"id\": Object.keys(moviesList).length + 1,\n        'name': this.state.name,\n        \"year\": this.state.year,\n        \"rating\": this.state.rating,\n        \"duration\": this.state.duration,\n        \"image\": this.state.image,\n        \"index\": Object.keys(moviesList).length + 1,\n      }\n      moviesList[Object.keys(moviesList).length +1] = newMovie\n      localStorage.setItem('movies', JSON.stringify(moviesList));\n      localStorage.setItem('newMovie', 1);\n      this.props.handleSubmit(e)\n    }\n  }\n\n  handleDuration(e) {\n    const re = /^[0-9\\b]+$/;\n      if (e.target.value === '' || re.test(e.target.value)) {\n         this.setState({duration: e.target.value})\n      }\n  }\n\n  render() {\n    const { name, year, rating, duration, image, submit } = this.state;\n    return (\n      <reactbootstrap.Container className=\"pt-5 px-0\">\n        <div style={{ color: \"#EC661C\", fontSize: \"20px\" }}>\n          <span>\n            <h4>{\"Add movie\"}</h4>\n          </span>\n        </div>\n        <reactbootstrap.Form style={{ textAlign: 'left' , width: \"600px\", height: \"200px\" }}>\n          <reactbootstrap.FormGroup>\n            <div style={{ marginbottom: \"15px\", border: \"0px\" }}>\n              <label style={{ marginLeft: \"30px\", color: \"#EC661C\", fontSize: \"14px\" }}>{\"Movie name\"}<span style={{ color: \"red\" }}> * </span></label>\n              <input\n                name=\"name\"\n                value={name}\n                type=\"text\"\n                style={{\n                  marginLeft: \"36px\",\n                  marginBottom: \"10px\",\n                }}\n                placeholder={\"Movie name\"}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </div>\n            {submit && name === \"\" && (\n              <div style={{ color: \"red\", fontSize: \"15px\" }}>\n                {\"Movie name field is required\"}\n              </div>\n            )}\n          </reactbootstrap.FormGroup>\n          <reactbootstrap.FormGroup>\n            <div style={{ marginbottom: \"15px\", border: \"0px\" }}>\n              <label style={{ marginRight: \"32px\", marginLeft: \"30px\", color: \"#EC661C\", fontSize: \"14px\" }}>{\"Relesed year\"}<span style={{ color: \"red\" }}> * </span></label>\n                <DateTimePicker\n                  onChange={(e) => this.handleDateChange(e)}\n                  format=\"yyyy\"\n                  value={year}\n                />\n            </div>\n            {submit && year === null && (\n              <div style={{ color: \"red\", fontSize: \"15px\" }}>\n                {\"Released year field is required\"}\n              </div>\n            )}\n          </reactbootstrap.FormGroup>\n          <reactbootstrap.FormGroup>\n            <div style={{ marginbottom: \"15px\", border: \"0px\" }}>\n              <label style={{ marginLeft: \"30px\", color: \"#EC661C\", fontSize: \"14px\" }}>{\"Rating\"}<span style={{ color: \"red\" }}> * </span></label>\n              <input\n                name=\"rating\"\n                value={rating}\n                type=\"textarea\"\n                style={{\n                  marginTop: \"10px\",\n                  marginLeft: \"72px\",\n                  marginBottom: \"10px\",\n                }}\n                placeholder={\"Rating\"}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </div>\n            {submit && rating === \"\" && (\n              <div style={{ color: \"red\", fontSize: \"15px\" }}>\n                {\"Rating field is required\"}\n              </div>\n            )}\n          </reactbootstrap.FormGroup>\n          <reactbootstrap.FormGroup>\n            <div style={{ marginbottom: \"15px\", border: \"0px\" }}>\n              <label style={{ marginLeft: \"30px\", color: \"#EC661C\", fontSize: \"14px\" }}>{\"Duration in hours\"}<span style={{ color: \"red\" }}> * </span></label>\n              <input\n                name=\"duration\"\n                value={duration}\n                type=\"text\"\n                pattern=\"[0-9]*\"\n                style={{\n                  marginLeft: \"3px\",\n                  marginBottom: \"10px\",\n                }}\n                placeholder={\"Duration\"}\n                onChange={this.handleDuration}\n                autoComplete=\"off\"\n              />\n            </div>\n            {/* <input type=\"text\" pattern=\"[0-9]*\"\n             onInput={this.handleDuration} value={this.state.duration} /> */}\n            {submit && duration === \"\" && (\n              <div style={{ color: \"red\", fontSize: \"15px\" }}>\n                {\"Duration field is required\"}\n              </div>\n            )}\n          </reactbootstrap.FormGroup>\n          {/* <reactbootstrap.FormGroup>\n            <div className=\"input-group-prepend col-md-4\">\n                <span style={{ background: 'none', border: '0px', color: '#EC661C', padding: '8px' }} className=\" \" id=\"inputGroupFileAddon01\">\n                  {\"Image\"}\n                </span>\n            </div>\n            <div className=\"col-md-8 custom-file input_sw\">\n                <input\n                    type=\"file\"\n                    className=\"custom-file-input\"\n                    id=\"image\"\n                    aria-describedby=\"inputGroupFileAddon01\"\n                    name='image'\n                    accept={'.jpg, .png, .svg, .gif, .bmp, .tiff, .tif'}\n                    onChange={this.handleChange}\n                />\n            </div>\n          </reactbootstrap.FormGroup> */}\n          <div>\n            <reactbootstrap.Button\n              style={{\n                float: \"left\",\n                backgroundColor: \"#EC661C\",\n                borderColor: \"black\",\n                marginLeft: \"20px\",\n                marginTop: \"30px\",\n                width: \"80px\"\n              }}\n              type=\"button\"\n              onClick={(e) => this.props.handleSubmit(e)}\n            >\n              {\"Cancel\"}\n            </reactbootstrap.Button>\n          </div>\n          <div>\n            <reactbootstrap.Button\n              style={{\n                float: \"right\",\n                backgroundColor: \"#EC661C\",\n                borderColor: \"black\",\n                marginRight: \"20px\",\n                marginTop: \"30px\",\n                width: \"80px\"\n              }}\n              type=\"button\"\n              onClick={(e) => this.addMovie(e)}\n            >\n              {\"Add\"}\n            </reactbootstrap.Button>\n          </div>\n        </reactbootstrap.Form>\n      </reactbootstrap.Container>\n    );\n  }\n}\n\nexport default CreateTask;\n"]},"metadata":{},"sourceType":"module"}